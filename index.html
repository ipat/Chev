<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">        
        <title>Chev</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="stylesheet" href="public/css/bootstrap.min.css">
        <style>
            body {
                padding-top: 50px;
                padding-bottom: 20px;
            }
        </style>
        <link rel="stylesheet" href="public/css/bootstrap-theme.min.css">
        <link rel="stylesheet" href="public/css/font-awesome.min.css">
        <link rel="stylesheet" href="public/css/main.css">
        <link rel="stylesheet" href="public/css/jquery.bootstrap-touchspin.css">
        <link rel="stylesheet" href="public/css/animate.css">

        <script src="public/js/vendor/modernizr-2.6.2-respond-1.1.0.min.js"></script>
        <base href="/chev/index.html">
    </head> 
    <body ng-app="chevApp">
        <!--[if lt IE 7]>
            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->
    <div class="navbar navbar-fixed-top {{navbarClass}}" role="navigation" ng-controller="navbarController">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="./">
          <img src="public/img/logo.png" alt="Logo">
          Chev</a>
        </div>
        <div class="navbar-collapse collapse">
          <!-- <form class="navbar-form navbar-right" role="form">
            <div class="form-group">
              <input type="text" placeholder="Email" class="form-control">
            </div>
            <div class="form-group">
              <input type="password" placeholder="Password" class="form-control">
            </div>
            <button type="submit" class="btn btn-success">Sign in</button>
          </form> -->
          <ul class="nav navbar-nav navbar-right">
            <li><a ng-class="{ active: isActive('/') }" href="./" >Home</a></li>
            <li><a ng-class="{ active: isActive('/ingredients') }" href="ingredients">Ingredients</a></li>
            <li><a ng-class="{ active: isActive('/howitwork') }" href="howitwork">How It Work</a></li>
            <li><a ng-class="{ active: isActive('/products') }" href="products">Products</a></li>
            <li><a ng-class="{ active: isActive('/About') }" href="#">About Us</a></li>
            <li><a ng-class="{ active: isActive('/login') }" ng-show="!isLogin" href="login">Login</a></li>
            <li><a ng-class="{ active: isActive('/user') }" ng-show="isLogin" href="user">คุณ {{userInfo.name_first}}</a></li>
            <!-- <li class="left-border right-border cart"><a href="#" ng-click="viewCart()"><span class="glyphicon glyphicon-shopping-cart"></span></a></li> -->

            <li class="left-border right-border cart dropdown">
              <!-- <div class="dropdown"> -->
                <a id="dLabel" data-target="#" data-toggle="dropdown" aria-haspopup="true" role="button" aria-expanded="false"><span class="glyphicon glyphicon-shopping-cart" ng-click="viewCart()"></span></a>
                
                <div class="dropdown-menu dropdown-area" role="menu" aria-labledby="dLabel">
                  <div ng-show="cart===undefined">
                    ยังไม่มีสินค้าในตะกร้าเลย <a href="products" ng-click="viewCart()">เติมเต็ม</a> ตะกร้าคุณสิ
                  </div>
                  <div ng-show="cart">
                    <table class="table table-hover" >
                      <thead>
                        <tr>
                          <th>สินค้า</th>
                          <th>จำนวน</th>
                          <th>ราคา</th>
                          <th></th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr ng-repeat="(key, value) in cart">
                          <th>{{value.product.name}}</th>
                          <th>{{value.setAmount}} ชิ้น</th>
                          <th>{{value.product.allprice * value.setAmount}} บาท</th>
                          <th><a ng-click="deleteItem(value.product.product_id)"><i class="glyphicon glyphicon-remove-circle"></i></a></th>
                        </tr>
                      </tbody>
                    </table>
                    <div>
                      <!-- <button class="red-btn col-md-12 full-width" ng-click="clearCart()"><i class="glyphicon glyphicon-trash"></i> ล้างตะกร้าสินค้า</button> -->
                      <!-- <div class="col-md-2"></div> -->
                      <button class="default-btn col-md-12 full-width" ng-show="isLogin" ng-click="checkout()"><i class="glyphicon glyphicon-arrow-right"></i> เช็คเอาท์สินค้าเลย</button>
                      <button class="default-btn col-md-12 full-width" ng-show="!isLogin" ng-click="login()"><i class="fa fa-key"></i> เข้าสู่ระบบเพื่อเช็คเอาท์</button>
                      <div class="clear"></div>
                    </div>
                </div>

              <!-- </div> -->
            </li>
          </ul>

        </div><!--/.navbar-collapse -->
      </div>
    </div>

    <ng-view></ng-view>

    <!-- Cart Modal for Every page -->
    <modal title="ตะกร้าสินค้า" visible="showModal">
      <!-- <form role="form">
        <div class="form-group">
          <label for="email">Email address</label>
          <input type="email" class="form-control" id="email" placeholder="Enter email" />
        </div>
        <div class="form-group">
          <label for="password">Password</label>
          <input type="password" class="form-control" id="password" placeholder="Password" />
        </div>
        <button type="submit" class="btn btn-default">Submit</button>
      </form> -->

      <div ng-show="cart===undefined">
        ยังไม่มีสินค้าในตะกร้าเลย <a href="products" ng-click="viewCart()">เติมเต็ม</a> ตะกร้าคุณสิ
      </div>
      <div ng-show="cart">
        <table class="table table-hover" >
          <thead>
            <tr>
              <th>สินค้า</th>
              <th>จำนวน</th>
              <th>ราคา</th>
            </tr>
          </thead>
          <tbody>
            <tr ng-repeat="(key, value) in cart">
              <th>{{key}}</th>
              <th>{{value.amount}} ชิ้น</th>
              <th>{{value.amount*chevPrice}} บาท</th>
            </tr>
          </tbody>
        </table>
        <div>
          <button class="red-btn col-md-12" ng-click="clearCart()"><i class="glyphicon glyphicon-trash"></i> ล้างตะกร้าสินค้า</button>
          <!-- <div class="col-md-2"></div> -->
          <button class="default-btn col-md-12" ng-show="isLogin"><i class="glyphicon glyphicon-arrow-right"></i> เช็คเอาท์สินค้าเลย</button>
          <button class="default-btn col-md-12" ng-show="!isLogin" ng-click="login()"><i class="fa fa-key"></i> เข้าสู่ระบบเพื่อเช็คเอาท์</button>
          <div class="clear"></div>
        </div>
      </div>
      
    </modal>


    <div class="container">
      <footer class="center">
        <div class="hr">
          <hr>
          <a href=""><i class="fa fa-facebook social-icon"></i></a>
          <a href=""><i class="fa fa-twitter social-icon"></i></a>
          <a href=""><i class="fa fa-youtube-play social-icon"></i></a>
        </div>      
          <p>&copy; Chev 2014</p>
      </footer>
    </div> <!-- /container -->            
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="public/js/vendor/jquery.stellar.min.js"></script>
        <script>window.jQuery || document.write('<script src="public/js/vendor/jquery-1.11.1.min.js"><\/script>')</script>

        <script src="public/js/vendor/bootstrap.min.js"></script>
        <script src="public/js/vendor/angular.min.js"></script>
        <script src="public/js/vendor/angular-route.min.js"></script>
        <script src="public/js/vendor/angular-ui-router.min.js"></script>
        <script src="public/js/vendor/angular-resource.min.js"></script>
        <script src="public/js/vendor/underscore-min.js"></script>

        <script src="public/js/main.js"></script>
        <script src="public/js/app.js"></script>
        <script src="public/js/jquery.bootstrap-touchspin.js"></script>

        <!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->
        <script>
            (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
            function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
            e=o.createElement(i);r=o.getElementsByTagName(i)[0];
            e.src='//www.google-analytics.com/analytics.js';
            r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
            ga('create','UA-XXXXX-X');ga('send','pageview');
        </script>
    </body>
</html>
